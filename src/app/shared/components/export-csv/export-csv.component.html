<div class="kExport" #toggle>
  <div class="kDropDown">
    <span>{{'app.common.exportCsv' | translate}}</span>
    <i *ngIf="!_opened" class="kIcondropdown_arrow_bottom"></i>
    <i *ngIf="_opened" class="kIcondropdown_arrow_top"></i>
  </div>
</div>

<kPopupWidget [attr.data-aid]="'export-csv-' + name"
              [popupWidth]="240"
              [closeBtn]="false"
              [targetRef]="toggle"
              [targetOffset]="{'x':-140, 'y': 42}"
              (onOpen)="_opened = true"
              (onClose)="_onPopupClose()">
  <ng-template>
    <div class="kExportPanel">
      <p-tree selectionMode="checkbox"
              [value]="_options"
              [(selection)]="_selected"></p-tree>

      <button pButton
              class="kButtonBranded kExportBtn"
              [label]="'app.common.exportReports' | translate"
              (click)="_export()"></button>
    </div>
  </ng-template>
</kPopupWidget>
